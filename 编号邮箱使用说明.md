# 编号邮箱功能使用说明

## 功能简介

新增的编号邮箱功能允许您创建带有固定前缀和数字编号的邮箱地址，例如：
- `ul0001@domain.com`
- `ul9977@domain.com`
- `test00123@domain.com`

## 新增参数

| 参数 | 说明 | 示例 |
|------|------|------|
| `--number N` | 指定编号 | `--number 1` 生成 ul0001 |
| `--start N` | 批量创建时的起始编号 | `--start 1` 从 1 开始 |
| `--digits D` | 编号位数（默认4位） | `--digits 3` 生成3位数编号 |

## 使用方法

### 1. 创建单个编号邮箱

```bash
# Linux/macOS
./temp-email.sh create --prefix ul --number 1
# 生成: ul0001@yourdomain.com

# Windows PowerShell
.\temp-email.ps1 create --prefix ul --number 1

# Windows CMD
temp-email.bat create --prefix ul --number 1

# 直接使用 Python
python temp_email.py create --prefix ul --number 1
```

### 2. 创建指定编号的邮箱

```bash
# 创建 ul9977@domain.com
./temp-email.sh create --prefix ul --number 9977

# 创建 ul6656@domain.com
./temp-email.sh create --prefix ul --number 6656
```

### 3. 批量创建连续编号邮箱

```bash
# 创建 ul0001 到 ul0010（共10个）
./temp-email.sh create --prefix ul --start 1 --count 10

# 创建 ul0100 到 ul0199（共100个）
./temp-email.sh create --prefix ul --start 100 --count 100
```

### 4. 自定义编号位数

```bash
# 创建3位数编号: ul001, ul002, ...
./temp-email.sh create --prefix ul --start 1 --count 10 --digits 3

# 创建5位数编号: ul00001, ul00002, ...
./temp-email.sh create --prefix ul --start 1 --count 10 --digits 5

# 创建2位数编号: ul01, ul02, ...
./temp-email.sh create --prefix ul --start 1 --count 10 --digits 2
```

### 5. 结合其他参数使用

```bash
# 指定转发目标邮箱
./temp-email.sh create --prefix ul --number 1 --to your-email@gmail.com

# 添加描述
./temp-email.sh create --prefix ul --number 1 --description "测试邮箱"

# 批量创建并保存到文件
./temp-email.sh create --prefix ul --start 1 --count 100 --output-dir ./emails
```

## 批量删除编号邮箱

使用通配符模式批量删除：

```bash
# 删除所有 ul 开头且后跟4位数字的邮箱
./temp-email.sh delete --batch 'ul[0-9][0-9][0-9][0-9]'

# 删除所有 ul 开头的邮箱（包括 ul-随机字符的）
./temp-email.sh delete --batch 'ul*'

# 删除特定范围（需要手动指定）
./temp-email.sh delete --batch 'ul000[0-9]'  # ul0000-ul0009
```

## 实际使用示例

### 示例1: 为测试创建100个邮箱

```bash
# 创建 test0001 到 test0100
./temp-email.sh create --prefix test --start 1 --count 100

# 列出所有邮箱确认
./temp-email.sh list

# 使用完毕后批量删除
./temp-email.sh delete --batch 'test[0-9][0-9][0-9][0-9]' -y
```

### 示例2: 为不同用户创建专属邮箱

```bash
# 用户1: ul0001
./temp-email.sh create --prefix ul --number 1

# 用户2: ul0002
./temp-email.sh create --prefix ul --number 2

# 用户9977: ul9977
./temp-email.sh create --prefix ul --number 9977
```

### 示例3: 创建短编号邮箱

```bash
# 创建 u001 到 u100（3位数）
./temp-email.sh create --prefix u --start 1 --count 100 --digits 3
```

## 注意事项

1. **必须指定 --prefix**：使用编号模式时，必须提供 `--prefix` 参数
2. **编号格式**：编号会自动补零到指定位数（默认4位）
3. **编号超限**：如果编号超过指定位数，会显示完整编号（如 `ul12345`）
4. **不能与 --no-prefix 同时使用**：编号模式需要前缀
5. **不能与 --email 同时使用**：编号模式会自动生成邮箱地址

## 与原有功能的区别

| 功能 | 命令示例 | 生成格式 |
|------|----------|----------|
| 纯随机 | `create` | `abcdefgh@domain.com` |
| 带前缀随机 | `create --prefix test` | `test-abcdefgh@domain.com` |
| **编号邮箱（新）** | `create --prefix ul --number 1` | `ul0001@domain.com` |
| 自定义 | `create --email custom` | `custom@domain.com` |

## 完整命令参考

```bash
# 查看帮助
./temp-email.sh create --help

# 编号邮箱创建
./temp-email.sh create --prefix <前缀> --number <编号> [--digits <位数>]

# 批量创建
./temp-email.sh create --prefix <前缀> --start <起始> --count <数量> [--digits <位数>]

# 列出所有邮箱
./temp-email.sh list

# 删除指定邮箱
./temp-email.sh delete <邮箱地址>

# 批量删除
./temp-email.sh delete --batch '<通配符>' [-y]

# 清理所有
./temp-email.sh cleanup [-y]
```

## 测试

运行测试脚本验证功能：

```bash
python test_numbered_email.py
```

测试通过后即可正常使用编号邮箱功能。
